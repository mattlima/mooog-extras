(function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;a=function(a){function d(a,c){this._instance=a,this.crush=b(this.crush,this),d.__super__.constructor.apply(this,arguments)}return c(d,a),d.prototype.before_config=function(a){var b;return b=this.context.createScriptProcessor(),b.onaudioprocess=this.crush,this.insert_node(b,0),this.resolution=8,this.downsample=1},d.prototype.after_config=function(a){return this.sample_rate=this._instance.context.sampleRate},d.prototype.crush=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(d=a.inputBuffer,j=a.outputBuffer,h=d.length,b=f=0,l=j.numberOfChannels-1;l>=0?l>=f:f>=l;b=l>=0?++f:--f)for(e=d.getChannelData(b),k=j.getChannelData(b),c=g=0,i=e.length;i>g;c=++g)m=e[c],k[c]=Math.round(e[Math.floor(c/this.downsample)*this.downsample]*this.resolution)/this.resolution;return null},d}(Mooog.MooogAudioNode),Mooog.extend_with("BitCrusher",a)}).call(this);